%% Umbrella rebar.config for FF3 Format Preserving Encryption
%% One library app + four CLI escript apps

{erl_opts, [no_debug_info, {d, production}, warn_export_all, warn_unused_import]}.
{deps, [
    {jsx, "3.1.0"}  % JSON library for parsing NIST test vectors
]}.

%% Umbrella: build all apps in apps/* directory
{project_app_dirs, ["apps/*"]}.

%% Project-wide settings
{minimum_otp_vsn, "21"}.

%% Profiles for different build types
{profiles, [
    {test, [
        {cover_enabled, true},
        {cover_opts, [verbose]}
    ]},
    {prod, [
        {erl_opts, [no_debug_info, {d, production}]}
    ]}
]}.